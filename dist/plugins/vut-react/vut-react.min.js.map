{"version":3,"file":"vut-react.min.js","sources":["../../../src/plugins/vut-react.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nexport const connect = (Component, mapModules) => {\n  return class Connect extends React.Component {\n    static contextTypes = {\n      vut: PropTypes.object.isRequired\n    }\n    state = mapModules(this.context.vut)\n    componentWillMount () {\n      this.onChange = () => {\n        this.setState(mapModules(this.context.vut))\n      }\n      this.context.vut.$dep.addSub(this.onChange)\n    }\n    render () {\n      return <Component {...this.props} {...this.state} />\n    }\n    componentWillUnmount () {\n      this.context.vut.$dep.removeSub(this.onChange)\n    }\n  }\n}\n\nexport class Provider extends React.Component {\n  static propTypes = {\n    children: PropTypes.element.isRequired,\n    vut: PropTypes.object.isRequired\n  }\n  static childContextTypes = {\n    vut: PropTypes.object.isRequired\n  }\n  getChildContext () {\n    return {\n      vut: this.props.vut\n    }\n  }\n  render () {\n    return React.Children.only(this.props.children)\n  }\n}\n"],"names":["Provider","this","props","vut","React","Children","only","children","Component","propTypes","PropTypes","element","isRequired","object","childContextTypes","mapModules","state","_this","context","onChange","setState","_this2","$dep","addSub","removeSub","contextTypes"],"mappings":"y0CAwBaA,6LAUFC,KAAKC,MAAMC,6CAIXC,EAAMC,SAASC,KAAKL,KAAKC,MAAMK,iBAdZH,EAAMI,aAC3BC,oBACKC,EAAUC,QAAQC,eACvBF,EAAUG,OAAOD,cAEjBE,uBACAJ,EAAUG,OAAOD,yBA3BH,SAACJ,EAAWO,uOAK/BC,MAAQD,EAAWE,EAAKC,QAAQf,8FAEzBgB,SAAW,aACTC,SAASL,EAAWM,EAAKH,QAAQf,YAEnCe,QAAQf,IAAImB,KAAKC,OAAOtB,KAAKkB,kDAG3Bf,gBAACI,OAAcP,KAAKC,MAAWD,KAAKe,4DAGtCE,QAAQf,IAAImB,KAAKE,UAAUvB,KAAKkB,iBAfZf,EAAMI,aAC1BiB,kBACAf,EAAUG,OAAOD"}